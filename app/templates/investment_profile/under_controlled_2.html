{% extends "base.html" %}

{% block title %}Under Controlled Profile{% endblock %}

{% block body %}

<style>
    /* Added to override background image default from base.html */
    body {
        background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("{{ url_for('static', filename='img/header_background.png') }}");
        background-size: cover !important;
    }
</style>

<section class="investment-profile">
    <div class="investment-profile-header undercontrolled-profile-header">
       <div class="complete-badge">
            <p>âœ” Assessment Complete</p>
        </div>
        <h2>Your Result: Resilient</h2>
        <img src="{{ url_for('static', filename='img/undercontrolled_icon.png') }}" alt="Over Controlled Icon - TEMP">
        <h3>Impulsive Tendencies</h3>
        <p>You tend to make decisions quickly and with less consideration for potential downsides.
            While this can help you act fast in the right situations, it may also lead to avoidable risks without careful planning.</p>
        <div class="profile-stats">
            <div class="stat">
                <h4>Risk Tolerance</h4>
                <p>High</p>
            </div>
            <div class="stat">
                <h4>Confidence</h4>
                <p>Variable</p>
            </div>
            <div class="stat">
                <h4>Overall Score</h4>
                <p>65/100</p>
            </div>
        </div>
    </div>
    <div class="investment-profile-page-info">
        <h3>Your Complete Investment Profile</h3>
        <hr>
        <div class="investment-profile-page-info-content">
            <div class="profile-report-section">
                <h4>Profile Report</h4>
                <p>You like taking big risks when there is a potential for big rewards, 
                    often relying on your friends and family to help keep you from impulsive decisions but sharing the rewards with them when you win big. 
                    You may need to moderate your risk-taking tendencies to avoid unnecessary financial losses.</p>
            </div>
            <div class="profile-advice-section">
                <h4>Advice for You</h4>
                <p>Focus on calming your risk-taking instincts with education and discipline from a trusted advisor. 
                    Staying emotionally balanced during market fluctuations can help you maintain steady progress towards your financial goals.</p>
            </div>
        </div>
        <div class="mindset-cards-container">
            <div class="mindset-card">
                <h4>ðŸš€ Bold but Mindful</h4>
                <p>Your courage in pursuing opportunities can be a strength â€” when paired with careful timing and research.</p>
            </div>
            <div class="mindset-card">
                <h4>ðŸŽ¯ Channeling Energy</h4>
                <p>Directing your enthusiasm toward well-vetted investments can help you achieve your goals without unnecessary setbacks.</p>
            </div>
            <div class="mindset-card">
                <h4>ðŸ›‘ Pause Before You Leap</h4>
                <p>Building a habit of slowing down to review the details can protect you from costly mistakes.</p>
            </div>
        </div>
    </div>

    <div class="image-text-section">
        <div class="image-text-section-header">
            <h3>Investment Tips</h3>
            <p>Discover powerful strategies to grow your wealth</p>
            <div class="slide-controls">
                <button class="previous-button">&lt</button>
                <button class="next-button">&gt</button>
            </div>
        </div>
        <div class="slides-content-wrapper">
        {% for item in slides_data %}
            <div class="slide-container">
                <div class="slide-info-panel">
                    <div class="slide-info-badge">
                        <p>ðŸ’¡ Investment Tip</p>
                    </div>
                    <p>{{ item.investment_tip }}</p>
                    <p><strong>Did You Know?</strong> {{ item.did_you_know }}</p>
                </div>
                <div class="slide">
                    <div class="image-text-block">
                        <img src="{{ item.dynamic_url }}" alt="Placeholder Image" onerror="this.onerror=null; this.src='{{ item.static_url }}';">
                    </div>
                </div>
            </div>
        {% endfor %}
        </div>
    </div>

    <div class="donation-investment-container">
        <div class="donation-section">
            <h3>Consider a Donation</h3>
            <p>As a dynamic and competitive individual, you thrive on seizing opportunities. 
                By donating to U.S.-oriented charities, you can channel your energy towards making a significant impact. 
                The U.S. and Russia share a strong history of cooperation, and your support will enhance these efforts. 
                This is a chance to diversify your influence and make a lasting difference, 
                all while engaging in meaningful philanthropy.
                <br>
                <br>
                Here are some organizations that you may be interested in donating to:
            </p>
            <ul>
                <li><a href="https://stemforher.org/donate/" target="_blank">STEM for Her</a></li>
                <li><a href="https://everymothercounts.org/donate/" target="_blank">Every Mother Counts (EMC)</a></li>
                <li><a href="https://www.fema.gov/disaster/recover/volunteer-donate" target="_blank">Federal Emergency Management Agency (FEMA)</a></li>
            </ul>
        </div>
        <div class="investment-links">
            <h3>Investment Resources</h3>
            <p>For more investment information, consider the following organizations:</p>
            <ul>
                <li><a href="https://www.jpmorgan.com/" target="_blank">JP Morgan</a></li>
                <li><a href="https://www.schwab.com/" target="_blank">Charles Schwab</a></li>
                <li><a href="https://pillarwm.com/" target="_blank">Pillar Wealth Management</a></li>
            </ul>
        </div>
    </div>
</section>
<!-- Javascript for button logic -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const previousButton = document.querySelector('.previous-button');
        const nextButton = document.querySelector('.next-button');
        const slideContainers = Array.from(document.querySelectorAll('.slide-container'));

        let currentSlideIndex = 0; // Initialize the current slide index

        const showSlide = (index) => {
            slideContainers.forEach((container, i) => {
                container.classList.toggle('active', i === index);
            });

            previousButton.disabled = index === 0;
            nextButton.disabled = index === slideContainers.length - 1;

        };

        nextButton.addEventListener('click', () => {
            if (currentSlideIndex < slideContainers.length - 1) {
                currentSlideIndex++; // Move to the next slide
                showSlide(currentSlideIndex);
            }
        });

        previousButton.addEventListener('click', () => {
            if (currentSlideIndex > 0) {
                currentSlideIndex--; // Move to the previous slide
                showSlide(currentSlideIndex)
            }
        });

        showSlide(currentSlideIndex);
    });

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('slide-in');
                observer.unobserve(entry.target); // Stop observing once visible
            }
        });
    }, { threshold: 0.2 });
    document.querySelectorAll('.investment-profile-page-info, .image-text-section, .donation-investment-container').forEach(element => {
        observer.observe(element);
    });
</script>
{% endblock %}